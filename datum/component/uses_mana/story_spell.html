<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <base href="../../../" />
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;datum&#x2F;component&#x2F;uses_mana&#x2F;story_spell - &#x2F;tg&#x2F; Station 13</title>
</head>
<body>
<header>
    <a href="index.html">&#x2F;tg&#x2F; Station 13</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="datum/component/uses_mana/story_spell.html#proc">Proc Details</a></header>
<main>
<h1>story_spell <aside>/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/uses_mana.html">uses_mana</a>/<a href="datum/component/uses_mana/story_spell.html">story_spell</a></aside>
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/modules/magic/story_spells/components/story_spell_component.dm#L2">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;modules&#x2F;magic&#x2F;story_spells&#x2F;components&#x2F;story_spell_component.dm 2"/></a></h1>

<p>The base component to be applied to all spells that interact with the mana system.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="datum/component/uses_mana/story_spell.html#proc/handle_cast">handle_cast</a></th><td>Actions done as the main effect of the spell.</td></tr>
            <tr><th><a href="datum/component/uses_mana/story_spell.html#proc/handle_precast">handle_precast</a></th><td>Actions done before the actual cast is called.
This is the last chance to cancel the spell from being cast.</td></tr></table><h2 id="proc">Proc Details</h2><h3 id="proc/handle_cast"><aside class="declaration">proc </aside>handle_cast<aside>(/<a href="datum.html">datum</a>/<a href="datum/action.html">action</a>/<a href="datum/action/cooldown.html">cooldown</a>/<a href="datum/action/cooldown/spell.html">spell</a>/source, /<a href="atom.html">atom</a>/cast_on) 
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/modules/magic/story_spells/components/story_spell_component.dm#L56">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;modules&#x2F;magic&#x2F;story_spells&#x2F;components&#x2F;story_spell_component.dm 56"/></a></aside>
        </h3>
        <p>Actions done as the main effect of the spell.</p>
<p>For spells without a click intercept, [cast_on] will be the owner.
For click spells, [cast_on] is whatever the owner clicked on in casting the spell.</p><h3 id="proc/handle_precast"><aside class="declaration">proc </aside>handle_precast<aside>(/<a href="datum.html">datum</a>/<a href="datum/action.html">action</a>/<a href="datum/action/cooldown.html">cooldown</a>/<a href="datum/action/cooldown/spell.html">spell</a>/source, /<a href="atom.html">atom</a>/cast_on) 
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/modules/magic/story_spells/components/story_spell_component.dm#L41">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;modules&#x2F;magic&#x2F;story_spells&#x2F;components&#x2F;story_spell_component.dm 41"/></a></aside>
        </h3>
        <p>Actions done before the actual cast is called.
This is the last chance to cancel the spell from being cast.</p>
<p>Can be used for target selection or to validate checks on the caster (cast_on).</p>
<p>Returns a bitflag.</p>
<ul>
<li>SPELL_CANCEL_CAST will stop the spell from being cast.</li>
<li>SPELL_NO_FEEDBACK will prevent the spell from calling [proc/spell_feedback] on cast. (invocation), sounds)</li>
<li>SPELL_NO_IMMEDIATE_COOLDOWN will prevent the spell from starting its cooldown between cast and before after_cast.</li>
</ul></main>
<footer>
    maplestation.dme
    <a href="https://github.com/siliconOpossum/MapleStationCode/tree/54659ebd7c689e0839ed072231cd2b486aa4d099">54659eb</a>
        (master) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.8.0</a></footer>
</body>
</html>
