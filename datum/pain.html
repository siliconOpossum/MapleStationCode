<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <base href="../" />
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;datum&#x2F;pain - &#x2F;tg&#x2F; Station 13</title>
</head>
<body>
<header>
    <a href="index.html">&#x2F;tg&#x2F; Station 13</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="datum/pain.html#var">Var Details</a> - <a href="datum/pain.html#proc">Proc Details</a></header>
<main>
<h1>pain <aside>/<a href="datum.html">datum</a>/<a href="datum/pain.html">pain</a></aside>
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L7">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 7"/></a></h1>

<p>The pain controller datum.</p>
<p>Attatched to a /carbon/human, this datum tracks all the pain values on all their bodyparts and handles updating them.
This datum processes on alive humans every 2 seconds.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr>
            <tr><th><a href="datum/pain.html#var/base_pain_decay">base_pain_decay</a></th><td>The base amount of pain decay received.</td></tr>
            <tr><th><a href="datum/pain.html#var/body_zones">body_zones</a></th><td>Lazy Assoc list [zones] to [references to bodyparts], all the body parts we're tracking</td></tr>
            <tr><th><a href="datum/pain.html#var/natural_decay_counter">natural_decay_counter</a></th><td>Counter to track pain decay. Pain decay is only done once every 5 ticks.</td></tr>
            <tr><th><a href="datum/pain.html#var/natural_pain_decay">natural_pain_decay</a></th><td>Natural amount of decay given to each limb per 5 ticks of process, increases over time</td></tr>
            <tr><th><a href="datum/pain.html#var/pain_modifier">pain_modifier</a></th><td>Modifier applied to all [adjust_pain] amounts</td></tr>
            <tr><th><a href="datum/pain.html#var/pain_mods">pain_mods</a></th><td>Lazy Assoc list [id] to [modifier], all our pain modifiers affecting our final mod</td></tr>
            <tr><th><a href="datum/pain.html#var/parent">parent</a></th><td>The parent mob we're tracking.</td></tr>
            <tr><th><a href="datum/pain.html#var/shock_buildup">shock_buildup</a></th><td>Amount of shock building up from higher levels of pain
When greater than current health, we go into shock</td></tr>
            <tr><th><a href="datum/pain.html#var/time_since_last_pain_loss">time_since_last_pain_loss</a></th><td>Cooldown to track the last time we lost pain.</td></tr>
            <tr><th><a href="datum/pain.html#var/time_since_last_pain_message">time_since_last_pain_message</a></th><td>Cooldown to track last time we sent a pain message.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="datum/pain.html#proc/add_bodypart">add_bodypart</a></th><td>Add a limb to be tracked.</td></tr>
            <tr><th><a href="datum/pain.html#proc/add_damage_pain">add_damage_pain</a></th><td>Hook into <a href="mob/living.html#proc/apply_damage" title="/mob/living">/mob/living/proc/apply_damage</a> proc via signal and apply pain based on how much damage was gained.</td></tr>
            <tr><th><a href="datum/pain.html#proc/add_wound_pain">add_wound_pain</a></th><td>Add pain in from a received wound based on severity.</td></tr>
            <tr><th><a href="datum/pain.html#proc/adjust_bodypart_min_pain">adjust_bodypart_min_pain</a></th><td>Set the minimum amount of pain in all [def_zones] by [amount].</td></tr>
            <tr><th><a href="datum/pain.html#proc/adjust_bodypart_pain">adjust_bodypart_pain</a></th><td>Adjust the amount of pain in all [def_zones] provided by [amount] (multiplied by the [pain_modifier] if positive).</td></tr>
            <tr><th><a href="datum/pain.html#proc/check_lying_pain_modifier">check_lying_pain_modifier</a></th><td>Whenever we buckle to something or lie down, get a pain bodifier.</td></tr>
            <tr><th><a href="datum/pain.html#proc/clear_pain_attributes">clear_pain_attributes</a></th><td>Clears all pain related attributes</td></tr>
            <tr><th><a href="datum/pain.html#proc/do_pain_emote">do_pain_emote</a></th><td>Run a pain related emote, if a few checks are successful.</td></tr>
            <tr><th><a href="datum/pain.html#proc/do_pain_message">do_pain_message</a></th><td>Run a pain related message, if a few checks are successful.</td></tr>
            <tr><th><a href="datum/pain.html#proc/get_average_pain">get_average_pain</a></th><td>Get the average pain of all bodyparts as a percent of the total pain.</td></tr>
            <tr><th><a href="datum/pain.html#proc/is_undergoing_shock">is_undergoing_shock</a></th><td>Returns a disease datum (Truthy value) if we are undergoing shock.</td></tr>
            <tr><th><a href="datum/pain.html#proc/on_analyzed">on_analyzed</a></th><td>Signal proc for <a href="code/__DEFINES/dcs/signals/signals_mob/signals_mob_living.html#define/COMSIG_LIVING_HEALTHSCAN" title="COMSIG_LIVING_HEALTHSCAN">COMSIG_LIVING_HEALTHSCAN</a>
Reports how much pain [parent] is sustaining to [user].</td></tr>
            <tr><th><a href="datum/pain.html#proc/on_burn_tick">on_burn_tick</a></th><td>While actively burning, cause pain</td></tr>
            <tr><th><a href="datum/pain.html#proc/on_pain_gain">on_pain_gain</a></th><td>Called when pain is gained to apply side effects.
Calls [affected_part]'s [on_gain_pain_effects] proc with arguments [amount].
Sends signal <a href="code/__DEFINES/living.html#define/COMSIG_CARBON_PAIN_GAINED" title="COMSIG_CARBON_PAIN_GAINED">COMSIG_CARBON_PAIN_GAINED</a> with arguments <a href="mob/living/carbon.html" title="/mob/living/carbon">mob/living/carbon/parent, obj/item/bodypart/affected_part, amount</a>.</td></tr>
            <tr><th><a href="datum/pain.html#proc/on_pain_loss">on_pain_loss</a></th><td>Called when pain is lost, if the mob did not lose pain in the last 60 seconds.
Calls [affected_part]'s [on_lose_pain_effects] proc with arguments [amount].
Sends signal <a href="code/__DEFINES/living.html#define/COMSIG_CARBON_PAIN_LOST" title="COMSIG_CARBON_PAIN_LOST">COMSIG_CARBON_PAIN_LOST</a> with arguments <a href="mob/living/carbon.html" title="/mob/living/carbon">mob/living/carbon/parent, obj/item/bodypart/affected_part, amount</a>.</td></tr>
            <tr><th><a href="datum/pain.html#proc/on_parent_statchance">on_parent_statchance</a></th><td>Determines if we should be processing or not.</td></tr>
            <tr><th><a href="datum/pain.html#proc/process">process</a></th><td>The process proc for pain.</td></tr>
            <tr><th><a href="datum/pain.html#proc/refresh_pain_attributes">refresh_pain_attributes</a></th><td>Apply or remove pain various modifiers from pain (mood, action speed, movement speed) based on the [average_pain].</td></tr>
            <tr><th><a href="datum/pain.html#proc/register_pain_signals">register_pain_signals</a></th><td>Register all of our signals with our parent.</td></tr>
            <tr><th><a href="datum/pain.html#proc/remove_all_pain">remove_all_pain</a></th><td>Remove all pain, pain paralysis, side effects, etc. from our mob after we're fully healed by something (like an adminheal)</td></tr>
            <tr><th><a href="datum/pain.html#proc/remove_bodypart">remove_bodypart</a></th><td>Remove a limb from being tracked.</td></tr>
            <tr><th><a href="datum/pain.html#proc/remove_wound_pain">remove_wound_pain</a></th><td>Remove pain from a healed wound.</td></tr>
            <tr><th><a href="datum/pain.html#proc/set_pain_modifier">set_pain_modifier</a></th><td>Add a pain modifier and update our overall modifier.</td></tr>
            <tr><th><a href="datum/pain.html#proc/unregister_pain_signals">unregister_pain_signals</a></th><td>Unregister all of our signals from our parent when we're done, if we have signals to unregister.</td></tr>
            <tr><th><a href="datum/pain.html#proc/unset_pain_modifier">unset_pain_modifier</a></th><td>Remove a pain modifier and update our overall modifier.</td></tr>
            <tr><th><a href="datum/pain.html#proc/update_pain_modifier">update_pain_modifier</a></th><td>Update our overall pain modifier.
The pain modifier is multiplicative based on all the pain modifiers we have.</td></tr></table>
    <h2 id="var">Var Details</h2><h3 id="var/base_pain_decay"><aside class="declaration">var </aside>base_pain_decay
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L19">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 19"/></a></h3>
        <p>The base amount of pain decay received.</p><h3 id="var/body_zones"><aside class="declaration">var </aside>body_zones
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L15">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 15"/></a></h3>
        <p>Lazy Assoc list [zones] to [references to bodyparts], all the body parts we're tracking</p><h3 id="var/natural_decay_counter"><aside class="declaration">var </aside>natural_decay_counter
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L21">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 21"/></a></h3>
        <p>Counter to track pain decay. Pain decay is only done once every 5 ticks.</p><h3 id="var/natural_pain_decay"><aside class="declaration">var </aside>natural_pain_decay
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L17">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 17"/></a></h3>
        <p>Natural amount of decay given to each limb per 5 ticks of process, increases over time</p><h3 id="var/pain_modifier"><aside class="declaration">var </aside>pain_modifier
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L11">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 11"/></a></h3>
        <p>Modifier applied to all [adjust_pain] amounts</p><h3 id="var/pain_mods"><aside class="declaration">var </aside>pain_mods
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L13">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 13"/></a></h3>
        <p>Lazy Assoc list [id] to [modifier], all our pain modifiers affecting our final mod</p><h3 id="var/parent"><aside class="declaration">var </aside>parent
            <aside>&ndash; /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a></aside>
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L9">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 9"/></a></h3>
        <p>The parent mob we're tracking.</p><h3 id="var/shock_buildup"><aside class="declaration">var </aside>shock_buildup
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L24">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 24"/></a></h3>
        <p>Amount of shock building up from higher levels of pain
When greater than current health, we go into shock</p><h3 id="var/time_since_last_pain_loss"><aside class="declaration">var </aside>time_since_last_pain_loss
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L26">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 26"/></a></h3>
        <p>Cooldown to track the last time we lost pain.</p><h3 id="var/time_since_last_pain_message"><aside class="declaration">var </aside>time_since_last_pain_message
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L28">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 28"/></a></h3>
        <p>Cooldown to track last time we sent a pain message.</p><h2 id="proc">Proc Details</h2><h3 id="proc/add_bodypart"><aside class="declaration">proc </aside>add_bodypart<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/source, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a>/new_limb, special) 
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L120">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 120"/></a></aside>
        </h3>
        <p>Add a limb to be tracked.</p>
<p>source - source of the signal / the mob who is gaining the limb / parent
new_limb - the bodypart being attatched
special - whether this limb being attatched should have side effects (if TRUE, likely being attatched on initialization)</p><h3 id="proc/add_damage_pain"><aside class="declaration">proc </aside>add_damage_pain<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/source, damage, damagetype, def_zone, blocked, wound_bonus, bare_wound_bonus, sharpness, attack_direction, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/attacking_item) 
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L350">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 350"/></a></aside>
        </h3>
        <p>Hook into <a href="mob/living.html#proc/apply_damage" title="/mob/living">/mob/living/proc/apply_damage</a> proc via signal and apply pain based on how much damage was gained.</p>
<p>source - source of the signal / the mob being damaged / parent
damage - the amount of damage sustained
damagetype - the type of damage sustained
def_zone - the limb being targeted with damage (either a bodypart zone or an obj/item/bodypart)</p><h3 id="proc/add_wound_pain"><aside class="declaration">proc </aside>add_wound_pain<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/source, /<a href="datum.html">datum</a>/<a href="datum/wound.html">wound</a>/applied_wound, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a>/wounded_limb) 
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L498">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 498"/></a></aside>
        </h3>
        <p>Add pain in from a received wound based on severity.</p>
<p>source - source of the signal / the mob being wounded / parent
applied_wound - the wound being applied
wounded_limb - the limb being wounded</p><h3 id="proc/adjust_bodypart_min_pain"><aside class="declaration">proc </aside>adjust_bodypart_min_pain<aside>(/list/def_zones, amount) 
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L293">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 293"/></a></aside>
        </h3>
        <p>Set the minimum amount of pain in all [def_zones] by [amount].</p>
<p>def_zones - list of all zones being adjusted. Can be passed a non-list.
amount - amount of pain being all items in [def_zones] are set to.</p><h3 id="proc/adjust_bodypart_pain"><aside class="declaration">proc </aside>adjust_bodypart_pain<aside>(/list/def_zones, amount, dam_type) 
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L228">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 228"/></a></aside>
        </h3>
        <p>Adjust the amount of pain in all [def_zones] provided by [amount] (multiplied by the [pain_modifier] if positive).</p>
<p>def_zones - list of all zones being adjusted. Can be passed a non-list.
amount - amount of pain being applied to all items in [def_zones]. If posiitve, multiplied by [pain_modifier].</p><h3 id="proc/check_lying_pain_modifier"><aside class="declaration">proc </aside>check_lying_pain_modifier<aside>(/<a href="datum.html">datum</a>/source, new_buckled) 
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L671">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 671"/></a></aside>
        </h3>
        <p>Whenever we buckle to something or lie down, get a pain bodifier.</p><h3 id="proc/clear_pain_attributes"><aside class="declaration">proc </aside>clear_pain_attributes<aside>() 
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L737">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 737"/></a></aside>
        </h3>
        <p>Clears all pain related attributes</p><h3 id="proc/do_pain_emote"><aside class="declaration">proc </aside>do_pain_emote<aside>(emote, cooldown) 
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L751">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 751"/></a></aside>
        </h3>
        <p>Run a pain related emote, if a few checks are successful.</p>
<p>emote - string, what emote we're running
cooldown - what cooldown to set our emote cooldown to</p>
<p>returns TRUE if successful.</p><h3 id="proc/do_pain_message"><aside class="declaration">proc </aside>do_pain_message<aside>(message, painless_message, cooldown) 
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L774">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 774"/></a></aside>
        </h3>
        <p>Run a pain related message, if a few checks are successful.</p>
<p>message - string, what message we're sending
painless_message - optional string, what message we're sending if the mob doesn't &quot;feel&quot; pain
cooldown - what cooldown to set our message cooldown to</p>
<p>returns TRUE if successful.
Returns FALSE if we failed to send a message, even if painless_message was provided and sent.</p><h3 id="proc/get_average_pain"><aside class="declaration">proc </aside>get_average_pain<aside>() 
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L792">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 792"/></a></aside>
        </h3>
        <p>Get the average pain of all bodyparts as a percent of the total pain.</p><h3 id="proc/is_undergoing_shock"><aside class="declaration">proc </aside>is_undergoing_shock<aside>() 
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L805">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 805"/></a></aside>
        </h3>
        <p>Returns a disease datum (Truthy value) if we are undergoing shock.</p><h3 id="proc/on_analyzed"><aside class="declaration">proc </aside>on_analyzed<aside>(/<a href="datum.html">datum</a>/source, /list/render_list, advanced, /<a href="mob.html">mob</a>/user, mode) 
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L850">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 850"/></a></aside>
        </h3>
        <p>Signal proc for <a href="code/__DEFINES/dcs/signals/signals_mob/signals_mob_living.html#define/COMSIG_LIVING_HEALTHSCAN" title="COMSIG_LIVING_HEALTHSCAN">COMSIG_LIVING_HEALTHSCAN</a>
Reports how much pain [parent] is sustaining to [user].</p>
<p>Note, this report is relatively vague intentionally -
rather than sending a detailed report of which bodyparts are in pain and how much,
the patient is encouraged to elaborate on which bodyparts hurt the most, and how much they hurt.
(To encourage a bit more interaction between the doctors.)</p><h3 id="proc/on_burn_tick"><aside class="declaration">proc </aside>on_burn_tick<aside>(/<a href="datum.html">datum</a>/source) 
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L689">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 689"/></a></aside>
        </h3>
        <p>While actively burning, cause pain</p><h3 id="proc/on_pain_gain"><aside class="declaration">proc </aside>on_pain_gain<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a>/affected_part, amount, type) 
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L318">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 318"/></a></aside>
        </h3>
        <p>Called when pain is gained to apply side effects.
Calls [affected_part]'s [on_gain_pain_effects] proc with arguments [amount].
Sends signal <a href="code/__DEFINES/living.html#define/COMSIG_CARBON_PAIN_GAINED" title="COMSIG_CARBON_PAIN_GAINED">COMSIG_CARBON_PAIN_GAINED</a> with arguments <a href="mob/living/carbon.html" title="/mob/living/carbon">mob/living/carbon/parent, obj/item/bodypart/affected_part, amount</a>.</p>
<p>affected_part - the bodypart that gained the pain
amount - amount of pain that was gained, post-[pain_modifier] applied</p><h3 id="proc/on_pain_loss"><aside class="declaration">proc </aside>on_pain_loss<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a>/affected_part, amount, type) 
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L337">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 337"/></a></aside>
        </h3>
        <p>Called when pain is lost, if the mob did not lose pain in the last 60 seconds.
Calls [affected_part]'s [on_lose_pain_effects] proc with arguments [amount].
Sends signal <a href="code/__DEFINES/living.html#define/COMSIG_CARBON_PAIN_LOST" title="COMSIG_CARBON_PAIN_LOST">COMSIG_CARBON_PAIN_LOST</a> with arguments <a href="mob/living/carbon.html" title="/mob/living/carbon">mob/living/carbon/parent, obj/item/bodypart/affected_part, amount</a>.</p>
<p>affected_part - the bodypart that lost pain
amount - amount of pain that was lost</p><h3 id="proc/on_parent_statchance"><aside class="declaration">proc </aside>on_parent_statchance<aside>(/<a href="mob.html">mob</a>/source) 
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L832">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 832"/></a></aside>
        </h3>
        <p>Determines if we should be processing or not.</p><h3 id="proc/process"><aside class="parent"><a title="/datum" href="datum.html#proc/process">&uarr;</a></aside>process<aside>(seconds_per_tick) 
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L531">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 531"/></a></aside>
        </h3>
        <p>The process proc for pain.</p>
<p>Applies and removes pain modifiers as they come and go.
Causes various side effects based on pain.</p>
<p>Triggers once every 2 seconds.
Handles natural pain decay, which happens once every 5 processes (every 10 seconds)</p><h3 id="proc/refresh_pain_attributes"><aside class="declaration">proc </aside>refresh_pain_attributes<aside>(...) 
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L703">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 703"/></a></aside>
        </h3>
        <p>Apply or remove pain various modifiers from pain (mood, action speed, movement speed) based on the [average_pain].</p><h3 id="proc/register_pain_signals"><aside class="declaration">proc </aside>register_pain_signals<aside>() 
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L78">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 78"/></a></aside>
        </h3>
        <p>Register all of our signals with our parent.</p><h3 id="proc/remove_all_pain"><aside class="declaration">proc </aside>remove_all_pain<aside>(/<a href="datum.html">datum</a>/source, heal_flags) 
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L811">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 811"/></a></aside>
        </h3>
        <p>Remove all pain, pain paralysis, side effects, etc. from our mob after we're fully healed by something (like an adminheal)</p><h3 id="proc/remove_bodypart"><aside class="declaration">proc </aside>remove_bodypart<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/source, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a>/lost_limb, special, dismembered) 
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L148">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 148"/></a></aside>
        </h3>
        <p>Remove a limb from being tracked.</p>
<p>source - source of the signal / the mob who is losing the limb / parent
lost_limb - the bodypart being removed
special - whether this limb being removed should have side effects (if TRUE, likely being removed on initialization)
dismembered - whether this limb was dismembered</p><h3 id="proc/remove_wound_pain"><aside class="declaration">proc </aside>remove_wound_pain<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/source, /<a href="datum.html">datum</a>/<a href="datum/wound.html">wound</a>/removed_wound, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a>/wounded_limb) 
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L516">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 516"/></a></aside>
        </h3>
        <p>Remove pain from a healed wound.</p>
<p>source - source of the signal / the mob being wounded / parent
removed_wound - the wound being healed
wounded_limb - the limb that was wounded</p><h3 id="proc/set_pain_modifier"><aside class="declaration">proc </aside>set_pain_modifier<aside>(key, amount) 
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L181">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 181"/></a></aside>
        </h3>
        <p>Add a pain modifier and update our overall modifier.</p>
<p>key - key of the added modifier
amount - multiplier of the modifier</p>
<p>returns TRUE if our pain mod actually changed</p><h3 id="proc/unregister_pain_signals"><aside class="declaration">proc </aside>unregister_pain_signals<aside>() 
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L96">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 96"/></a></aside>
        </h3>
        <p>Unregister all of our signals from our parent when we're done, if we have signals to unregister.</p><h3 id="proc/unset_pain_modifier"><aside class="declaration">proc </aside>unset_pain_modifier<aside>(key) 
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L202">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 202"/></a></aside>
        </h3>
        <p>Remove a pain modifier and update our overall modifier.</p>
<p>key - key of the removed modifier</p>
<p>returns TRUE if our pain mod actually changed</p><h3 id="proc/update_pain_modifier"><aside class="declaration">proc </aside>update_pain_modifier<aside>() 
        
    
            <a href="https://github.com/siliconOpossum/MapleStationCode/blob/54659ebd7c689e0839ed072231cd2b486aa4d099/maplestation_modules/code/datums/pain/pain.dm#L215">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;pain&#x2F;pain.dm 215"/></a></aside>
        </h3>
        <p>Update our overall pain modifier.
The pain modifier is multiplicative based on all the pain modifiers we have.</p>
<p>returns TRUE if our pain modifier was changed after update, FALSE if it remained the same</p></main>
<footer>
    maplestation.dme
    <a href="https://github.com/siliconOpossum/MapleStationCode/tree/54659ebd7c689e0839ed072231cd2b486aa4d099">54659eb</a>
        (master) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.8.0</a></footer>
</body>
</html>
